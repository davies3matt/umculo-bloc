# This "input" configures a global authorization rule to enable public access to
# all models in this schema. Learn more about authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules
input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!

type User @model {
  id: ID!
  name: String
  phoneNumber: String
  email: String
  groups: [Group] @manyToMany(relationName: "UserGroups")
}

type Group @model {
  id: ID!
  name: String
  users: [User] @manyToMany(relationName: "UserGroups")
  items: [Item] @hasMany(indexName: "GroupItems", fields: ["id"])
}

type Item @model {
  id: ID! 
  itemGroupId: ID! @index(name: "GroupItems", sortKeyFields: ["id"])
  name: String
  category: Category
  group: Group @belongsTo(fields: ["itemGroupId"])
}

enum Category {
  KITCHEN
  BATHROOM
  LIVING_AREA
  MISC
}
